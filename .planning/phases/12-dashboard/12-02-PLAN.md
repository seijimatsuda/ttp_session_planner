---
phase: 12-dashboard
plan: 02
type: execute
wave: 2
depends_on: ["12-01"]
files_modified:
  - frontend/src/pages/DashboardPage.tsx
autonomous: true

must_haves:
  truths:
    - "Dashboard displays after successful login"
    - "Quick actions navigate to Add Drill and New Session"
    - "Dashboard shows recent drills if user has drills"
    - "Dashboard shows recent sessions if user has sessions"
    - "Empty state guides new users to create first drill"
  artifacts:
    - path: "frontend/src/pages/DashboardPage.tsx"
      provides: "Production dashboard page replacing demo content"
      min_lines: 60
  key_links:
    - from: "frontend/src/pages/DashboardPage.tsx"
      to: "dashboard components"
      via: "import from @/components/dashboard"
      pattern: "import.*from.*@/components/dashboard"
    - from: "frontend/src/pages/DashboardPage.tsx"
      to: "useAuth hook"
      via: "user.id for data fetching"
      pattern: "useAuth.*user"
---

<objective>
Replace DashboardPage demo content with production dashboard using the new components.

Purpose: Wire together the dashboard components into a cohesive landing page that users see after login, providing quick actions and recent items overview.

Output: Production-ready DashboardPage that satisfies all Phase 12 success criteria.
</objective>

<execution_context>
@/Users/seijimatsuda/.claude/get-shit-done/workflows/execute-plan.md
@/Users/seijimatsuda/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/12-dashboard/12-RESEARCH.md
@.planning/phases/12-dashboard/12-01-SUMMARY.md

# Existing page structure
@frontend/src/pages/DashboardPage.tsx
@frontend/src/App.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Replace DashboardPage with production implementation</name>
  <files>frontend/src/pages/DashboardPage.tsx</files>
  <action>
Replace the entire DashboardPage.tsx content with production implementation:

**Keep from existing:**
- DashboardSidebar component (update nav links to use react-router-dom Link)
- DashboardHeader component
- AppShell + Container layout pattern

**Update DashboardSidebar:**
- Convert `<a href="#">` to `<Link to="...">` for all nav items
- Dashboard -> `/`
- Drills -> `/drills`
- Sessions -> `/sessions` (route may not exist yet, still link to it)
- Remove Settings link (not implemented)

**New main content structure:**
```tsx
<Container size="lg">
  <div className="space-y-8">
    {/* Welcome section */}
    <section>
      <h1 className="text-3xl font-bold text-gray-900">
        Welcome back{user?.email ? `, ${user.email.split('@')[0]}` : ''}
      </h1>
      <p className="mt-1 text-gray-600">
        Here's what's happening with your training sessions.
      </p>
    </section>

    {/* Quick actions section */}
    <section>
      <h2 className="text-xl font-semibold text-gray-900 mb-4">Quick Actions</h2>
      <QuickActions />
    </section>

    {/* Recent drills section with "View all" link */}
    <section>
      <div className="flex items-center justify-between mb-4">
        <h2 className="text-xl font-semibold text-gray-900">Recent Drills</h2>
        <Link to="/drills" className="text-sm text-blue-600 hover:text-blue-800 min-h-11 flex items-center">
          View all
        </Link>
      </div>
      <RecentDrills userId={user?.id ?? ''} />
    </section>

    {/* Recent sessions section with "View all" link */}
    <section>
      <div className="flex items-center justify-between mb-4">
        <h2 className="text-xl font-semibold text-gray-900">Recent Sessions</h2>
        <Link to="/sessions" className="text-sm text-blue-600 hover:text-blue-800 min-h-11 flex items-center">
          View all
        </Link>
      </div>
      <RecentSessions userId={user?.id ?? ''} />
    </section>
  </div>
</Container>
```

**Imports to add:**
```typescript
import { Link } from 'react-router-dom'
import { QuickActions, RecentDrills, RecentSessions } from '@/components/dashboard'
```

**Imports to remove:**
- useState (no longer needed)
- toast, MediaUpload, Button, Input, Skeleton (demo components removed)

**Note:** Do NOT add logic to show DashboardEmptyState when both drills and sessions are empty. The RecentDrills and RecentSessions components handle their own empty states. A future enhancement could add a "first-time user" experience, but that's beyond current requirements.
  </action>
  <verify>
Run `npx tsc --noEmit` - no TypeScript errors.
Run `npm run dev` and verify:
1. Navigate to `/` after login
2. Welcome message appears with user's name
3. Quick Actions section shows Add Drill and New Session cards
4. Recent Drills section shows drills or empty state
5. Recent Sessions section shows sessions or empty state
6. Clicking Quick Action cards navigates to correct pages
7. Clicking "View all" links navigates to library pages
8. Sidebar nav links work correctly
  </verify>
  <done>
DashboardPage displays welcome message, quick actions, recent drills, and recent sessions.
All navigation uses react-router-dom Link components.
Demo content completely removed and replaced with production functionality.
  </done>
</task>

<task type="auto">
  <name>Task 2: Verify all Phase 12 success criteria</name>
  <files>None (verification only)</files>
  <action>
Test all Phase 12 success criteria in the running application:

1. **Dashboard displays after successful login**
   - Log out if logged in
   - Go to `/login`, enter valid credentials
   - Verify redirect to `/` shows the dashboard
   - Verify AppShell layout with sidebar and header is present

2. **Quick actions navigate to "Add Drill" and "New Session"**
   - Click "Add Drill" card -> verify navigates to `/drills/new`
   - Go back to dashboard
   - Click "New Session" card -> verify navigates to `/sessions/new` (may show 404 if route doesn't exist yet - that's expected)

3. **Dashboard shows recent sessions or drills (if any exist)**
   - If drills exist: verify DrillCards appear in Recent Drills section
   - If no drills: verify empty state message appears
   - If sessions exist: verify session cards appear in Recent Sessions section
   - If no sessions: verify empty state message appears

4. **Empty state guides new users to create first drill**
   - The RecentDrills empty state should show a message guiding users to create drills
   - The RecentSessions empty state should show a message guiding users to create sessions
   - (Note: Full DashboardEmptyState for completely new users is created but not wired - can be added as enhancement)

5. **Additional checks:**
   - Verify 44px touch targets on quick action cards
   - Verify sidebar nav links work (Dashboard, Drills, Sessions)
   - Verify responsive layout on mobile viewport
  </action>
  <verify>
All 4 success criteria from ROADMAP.md are verified manually.
Run `npm run build` to ensure production build succeeds.
  </verify>
  <done>
All Phase 12 success criteria verified:
- Dashboard displays after login
- Quick actions navigate correctly
- Recent items display with proper loading/empty/data states
- Empty states provide guidance to new users
  </done>
</task>

</tasks>

<verification>
1. `npx tsc --noEmit` passes with no errors
2. `npm run build` succeeds
3. All Phase 12 success criteria manually verified:
   - Dashboard displays after successful login
   - Quick actions navigate to Add Drill and New Session
   - Dashboard shows recent drills/sessions if they exist
   - Empty state guides new users
</verification>

<success_criteria>
- DashboardPage.tsx contains production implementation (no demo content)
- Welcome message displays user's name
- QuickActions component renders and navigates correctly
- RecentDrills component fetches and displays user's drills
- RecentSessions component fetches and displays user's sessions
- All sidebar navigation uses Link components (not anchor tags)
- All interactive elements have 44px touch targets
- All Phase 12 success criteria from ROADMAP verified
</success_criteria>

<output>
After completion, create `.planning/phases/12-dashboard/12-02-SUMMARY.md`
</output>
